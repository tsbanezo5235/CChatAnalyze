{"version":3,"sources":["components/Gallery.module.css","components/DataChart.js","components/Result.js","components/Title.js","components/Gallery.js","App.js","index.js"],"names":["module","exports","section1Box","section2Box","section3Box","stringMonthBox","DataChart","props","data","length","Fragment","cleanData","map","article","concatMonth","date","Date","time","month","getMonth","includes","toString","section","day","getDate","year","getFullYear","timestamp","Number","key","reduce","allStamps","stamp","everyStampCount","Object","values","everyStamp","keys","finalData","i","push","counts","Container","className","LineChart","width","height","XAxis","dataKey","YAxis","CartesianGrid","stroke","Line","type","Result","messagesData","artilce","messages","pushData","averagePushData","accumulator","currentValue","toFixed","booData","boo","averageBooData","keyMan","author","allKeyMans","Man","everyKeyMan","everyKeyManCount","finalKeyManData","sort","a","b","averageArticleOneWeek","filterArray","WCResults","wordCloud","filter","item","indexOf","text","Row","Col","xs","words","size","Card","style","Body","ListGroup","variant","Item","Header","Title","Jumbotron","Gallery","console","log","useState","name","src","keyword","expressData","setExpressData","analyzeData","setAnalyzeData","setWordCloud","useEffect","Promise","all","fetchAna","fetchWC","firstAna","firstWC","firstFetch","fetch","method","headers","body","JSON","stringify","then","response","json","touchFetch","classes","fluid","Figure","Image","onClick","prev","shift","bg","border","Button","block","unshift","pop","App","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.924b4ce2.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"all\":\"Gallery_all__1Hije\"};","import React from 'react';\r\nimport {LineChart, XAxis, YAxis, Line, CartesianGrid} from 'recharts';\r\nimport {Container} from 'react-bootstrap'\r\n\r\nconst section1Box = [1,2,3,4,5,6,7]\r\nconst section2Box = [8,9,10,11,12,13,14]\r\nconst section3Box = [15,16,17,18,19,20,21]\r\nconst stringMonthBox = [1,2,3,4,5,6,7,8,9]\r\n\r\nconst DataChart = (props) => {\r\n  if (props.data.length < 10) {\r\n    return (\r\n      <React.Fragment>\r\n        <h1>資料還在下載啦QQ</h1>\r\n      </React.Fragment>\r\n    )\r\n  } else {\r\n    const data = props.data.map(article => {\r\n      const date = new Date(article.time);\r\n      const month = date.getMonth() + 1\r\n      let concatMonth;\r\n      if (stringMonthBox.includes(month)) {\r\n        concatMonth = \"0\" + month.toString()\r\n      } else {\r\n        concatMonth = month.toString()\r\n      }\r\n      const day = date.getDate();\r\n      const year = date.getFullYear();\r\n      let section;\r\n      if (section1Box.includes(day) ) {\r\n        section = \"01\";\r\n      } else if (section2Box.includes(day)){\r\n        section = \"02\";\r\n      } else if (section3Box.includes(day)){\r\n        section = \"03\";\r\n      } else {\r\n        section = \"04\";\r\n      }\r\n      const timestamp = Number(year.toString() + concatMonth + section);\r\n      return {\r\n        key: article.key,\r\n        time: date,\r\n        month: month,\r\n        day: day,\r\n        year: year,\r\n        timestamp: timestamp,\r\n      }\r\n    })\r\n  \r\n    const secondData = data.map(article => article.timestamp);\r\n  \r\n    const cleanData = secondData.reduce(function(allStamps, stamp) {\r\n      if (stamp in allStamps) {\r\n        allStamps[stamp]++;\r\n      } else {\r\n        allStamps[stamp] = 1;\r\n      }\r\n      return allStamps;\r\n    },{});\r\n  \r\n  \r\n    const everyStampCount = Object.values(cleanData);\r\n    const everyStamp = Object.keys(cleanData);\r\n  \r\n    const finalData = [];\r\n    for (let i = 0; i < everyStamp.length; i++) {\r\n      finalData.push({\r\n        time: everyStamp[i],\r\n        counts: everyStampCount[i]\r\n      })\r\n    };\r\n  \r\n    return (\r\n      <React.Fragment>\r\n        <Container  className=\"p-2 d-flex align-items-center overflow-auto\">\r\n          <LineChart\r\n            width={1120}\r\n            height={400}\r\n            data={finalData}\r\n            \r\n          >\r\n            <XAxis dataKey=\"time\"></XAxis>\r\n            <YAxis></YAxis>\r\n            <CartesianGrid stroke=\"#ccc\" />\r\n            <Line type=\"monotone\" dataKey=\"counts\" stroke=\"#8884d8\" /> \r\n          </LineChart>\r\n        </Container>\r\n        \r\n      </React.Fragment>\r\n    )\r\n  }\r\n};\r\n\r\nexport default DataChart;","import React from 'react';\r\nimport {Container, Col, Row, Card, ListGroup} from 'react-bootstrap';\r\nimport ReactWordcloud from 'react-wordcloud';\r\n\r\nconst Result = (props) => {\r\n  if (props.data.length < 10) {\r\n    return (\r\n      <React.Fragment>\r\n        <h1>資料還在下載啦QQ</h1>\r\n      </React.Fragment>\r\n    )\r\n  } else {\r\n    const messagesData = props.data.map(artilce => artilce.messages);\r\n\r\n    const pushData = messagesData.map(artilce => artilce.push);\r\n    const averagePushData = (pushData.reduce((accumulator, currentValue) => accumulator + currentValue) / pushData.length).toFixed(2);\r\n    const booData = messagesData.map(artilce => artilce.boo);\r\n    const averageBooData = (booData.reduce((accumulator, currentValue) => accumulator + currentValue) / booData.length).toFixed(2);\r\n\r\n    const keyManData = props.data.map(artilce => artilce.author);\r\n    const keyMan = keyManData.reduce(function(allKeyMans, Man) {\r\n      if (Man in allKeyMans) {\r\n        allKeyMans[Man]++;\r\n      } else {\r\n        allKeyMans[Man] = 1;\r\n      }\r\n      return allKeyMans;\r\n    },{});\r\n    const everyKeyMan = Object.keys(keyMan);\r\n    const everyKeyManCount = Object.values(keyMan);\r\n    const finalKeyManData = [];\r\n    for (let i = 0; i < everyKeyMan.length; i++) {\r\n      finalKeyManData.push({\r\n        keyMan: everyKeyMan[i],\r\n        counts: everyKeyManCount[i]\r\n      })\r\n    };\r\n    finalKeyManData.sort(function(a, b) {\r\n      return b.counts - a.counts;\r\n    });\r\n\r\n    const averageArticleOneWeek = props.data.length / 40;\r\n\r\n    const filterArray = ['電影','漫畫','動畫','com', 'https', 'imgur', 'jpg', 'png', '然後', '這樣', '已經', '雖然', '應該', '覺得', '沒有', '還是', '因為', '最後'] \r\n\r\n    const WCResults = props.wordCloud.filter(item => filterArray.indexOf(item.text) < 0)\r\n    return (\r\n      <React.Fragment>\r\n        <Container className=\"p-2\">\r\n          <Row className=\"d-flex align-items-center\">\r\n            <Col xs={4} >\r\n              <ReactWordcloud words={WCResults} size={[360,425]} />\r\n            </Col>\r\n            <Col xs={4}>\r\n              <Card className=\"m-1\" style={{ width: '95%', height: \"425px\"}}>\r\n                <Card.Body>熱門討論詞彙TOP7</Card.Body>\r\n                <ListGroup variant=\"flush\">\r\n                  <ListGroup.Item>1.{WCResults.length > 10 && WCResults[0].text}</ListGroup.Item>\r\n                  <ListGroup.Item>2.{WCResults.length > 10 && WCResults[1].text}</ListGroup.Item>\r\n                  <ListGroup.Item>3.{WCResults.length > 10 && WCResults[2].text}</ListGroup.Item>\r\n                  <ListGroup.Item>4.{WCResults.length > 10 && WCResults[3].text}</ListGroup.Item>\r\n                  <ListGroup.Item>5.{WCResults.length > 10 && WCResults[4].text}</ListGroup.Item>\r\n                  <ListGroup.Item>6.{WCResults.length > 10 && WCResults[5].text}</ListGroup.Item>\r\n                  <ListGroup.Item>7.{WCResults.length > 10 && WCResults[6].text}</ListGroup.Item>\r\n                </ListGroup>\r\n              </Card>\r\n            </Col>\r\n            <Col xs={4} >\r\n\r\n              <Card className=\"m-1\" style={{ width: '95%'}}>\r\n                <Card.Body>每周平均討論度：{averageArticleOneWeek}篇</Card.Body>\r\n                <Card.Body>平均討論的推噓:{averagePushData}/{averageBooData}</Card.Body>\r\n              </Card>\r\n\r\n              <Card className=\"m-1\" style={{ width: '95%'}}>\r\n                <Card.Header>討論發起人TOP5 ID</Card.Header>\r\n                <ListGroup variant=\"flush\">\r\n                  <ListGroup.Item>1.{finalKeyManData[0].keyMan} {finalKeyManData[0].counts}篇</ListGroup.Item>\r\n                  <ListGroup.Item>2.{finalKeyManData[1].keyMan} {finalKeyManData[1].counts}篇</ListGroup.Item>\r\n                  <ListGroup.Item>3.{finalKeyManData[2].keyMan} {finalKeyManData[2].counts}篇</ListGroup.Item>\r\n                  <ListGroup.Item>4.{finalKeyManData[3].keyMan} {finalKeyManData[3].counts}篇</ListGroup.Item>\r\n                  <ListGroup.Item>5.{finalKeyManData[4].keyMan} {finalKeyManData[4].counts}篇</ListGroup.Item>\r\n                </ListGroup>\r\n              </Card>\r\n              \r\n            </Col>\r\n          </Row>\r\n        </Container>\r\n      </React.Fragment>\r\n  )\r\n  }\r\n\r\n  \r\n};\r\n\r\nexport default Result;","import React from 'react';\r\nimport {Container, Col, Row, Card, Button, Figure, Jumbotron} from 'react-bootstrap';\r\n\r\nconst Title = () => {\r\n  return(\r\n    <React.Fragment>\r\n      <Jumbotron className=\" p-2 \">\r\n        <h1 className=\"text-center\">PTT C_Chat版 數據分析</h1>\r\n        <p className=\"text-center\">資料來源:PTT C_Chat版</p>\r\n        <p className=\"text-center\">資料時間:2020/7/26~2021/5/6</p>\r\n      </Jumbotron>\r\n    </React.Fragment>\r\n  )\r\n  \r\n};\r\n\r\nexport default Title;","import React, {useState, useEffect} from 'react';\r\nimport {Container, Col, Row, Card, Button, Figure, Image} from 'react-bootstrap';\r\nimport DataChart from './DataChart';\r\n\r\nimport classes from './Gallery.module.css'\r\nimport Result from './Result';\r\nimport Title from './Title';\r\n\r\nconst Gallery = () => {\r\n  const GalleryData = [\r\n    {\r\n      name:\"進擊的巨人\",\r\n      src:\"attackOnTitan.jpg\",\r\n      keyword:\"巨人\"\r\n    },\r\n    {\r\n      name:\"棒球大聯盟\",\r\n      src:\"Baseball2.jpg\",\r\n      keyword:\"棒大\"\r\n    },\r\n    {\r\n      name:\"刮掉鬍子的我與撿到的女高中生\",\r\n      src:\"bearAndJK.jpg\",\r\n      keyword:\"剃鬍\"\r\n    },\r\n    {\r\n      name:\"咒術迴戰\",\r\n      src:\"curseBattle.jpg\",\r\n      keyword:\"咒術\"\r\n    },\r\n    {\r\n      name:\"達爾文遊戲\",\r\n      src:\"DarwinGame.jpg\",\r\n      keyword:\"達爾文\"\r\n    },\r\n    {\r\n      name:\"鬼滅之刃\",\r\n      src:\"DemonSlayer.jpg\",\r\n      keyword:\"鬼滅\"\r\n    },\r\n    {\r\n      name:\"怕痛的我，把防禦力點滿就對了\",\r\n      src:\"FearPainGirl.jpg\",\r\n      keyword:\"怕痛\"\r\n    },\r\n    {\r\n      name:\"搖曳露營\",\r\n      src:\"GirlCamp.jpg\",\r\n      keyword:\"搖曳\"\r\n    },\r\n    {\r\n      name:\"哥布林殺手\",\r\n      src:\"GoblinSlayer.jpg\",\r\n      keyword:\"哥殺\"\r\n    },\r\n    {\r\n      name:\"我的英雄學院\",\r\n      src:\"HeroAcademy.jpg\",\r\n      keyword:\"我英\"\r\n    },\r\n    {\r\n      name:\"HoloLive\",\r\n      src:\"Vtuber.jpg\",\r\n      keyword:\"Holo\"\r\n    },\r\n    {\r\n      name:\"來自深淵\",\r\n      src:\"InAbyss.jpg\",\r\n      keyword:\"深淵\"\r\n    },\r\n    {\r\n      name:\"JOJO\",\r\n      src:\"JOJO.jpg\",\r\n      keyword:\"jojo\"\r\n    },\r\n    {\r\n      name:\"魔女之旅\",\r\n      src:\"JourneyOfWitch.jpg\",\r\n      keyword:\"伊雷娜\"\r\n    },\r\n    {\r\n      name:\"魔王學院的不適任者～史上最強的魔王始祖，轉生就讀子孫們的學校～\",\r\n      src:\"KingNGStudent.jpg\",\r\n      keyword:\"魔王學院的不適任者\"\r\n    },\r\n    {\r\n      name:\"魔法少女小圓\",\r\n      src:\"magicGirl.jpg\",\r\n      keyword:\"小圓\"\r\n    },\r\n    {\r\n      name:\"魔法科高中的劣等生\",\r\n      src:\"MagicNGStudent.jpg\",\r\n      keyword:\"魔劣\"\r\n    },\r\n    {\r\n      name:\"無職轉生，到了異世界就拿出真本事\",\r\n      src:\"NewLifeNoRank.jpg\",\r\n      keyword:\"無職\"\r\n    },\r\n    {\r\n      name:\"天竺鼠車車\",\r\n      src:\"PUIPUI.jpg\",\r\n      keyword:\"puipui\"\r\n    },\r\n    {\r\n      name:\"Re：從零開始的異世界生活\",\r\n      src:\"RE0.jpg\",\r\n      keyword:\"RE0\"\r\n    },\r\n    {\r\n      name:\"出租女友\",\r\n      src:\"RentGirlFriend.jpg\",\r\n      keyword:\"租借女友\"\r\n    },\r\n    {\r\n      name:\"輝夜姬想讓人告白～天才們的戀愛頭腦戰～\",\r\n      src:\"Sakuya.jpg\",\r\n      keyword:\"輝夜\"\r\n    },\r\n    {\r\n      name:\"刀劍神域\",\r\n      src:\"SAO.jpg\",\r\n      keyword:\"刀劍\"\r\n    },\r\n    {\r\n      name:\"關於我轉生變成史萊姆這檔事\",\r\n      src:\"TurnToSlime.jpg\",\r\n      keyword:\"史萊姆\"\r\n    },\r\n    {\r\n      name:\"在地下城尋求邂逅是否搞錯了什麼\",\r\n      src:\"UndergroundCity.jpg\",\r\n      keyword:\"地錯\"\r\n    },\r\n    {\r\n      name:\"工作細胞\",\r\n      src:\"WorkingCell.jpg\",\r\n      keyword:\"工作細胞\"\r\n    },\r\n  ]\r\n\r\n  console.log('--- invoke function component ---');\r\n\r\n  const [expressData,setExpressData] = useState(GalleryData);\r\n  const [analyzeData,setAnalyzeData] = useState([]);\r\n  const [wordCloud,setWordCloud] = useState([]);\r\n\r\n  useEffect(() => {\r\n    const firstFetch = async () => {\r\n      const [firstAna, firstWC] = await Promise.all([\r\n        fetchAna(),\r\n        fetchWC()\r\n      ])\r\n\r\n      setAnalyzeData(firstAna);\r\n      setWordCloud(firstWC);\r\n    };\r\n\r\n    firstFetch();\r\n  }, [])\r\n\r\n  const fetchAna = () => {\r\n    return fetch('/api/wash', {\r\n      method:'POST',\r\n      headers: {\r\n        'content-type': 'application/json'\r\n      },\r\n      body: JSON.stringify({\r\n        name: expressData[0].name,\r\n        keyword: expressData[0].keyword\r\n      }),\r\n    })\r\n    .then( (response) => response.json())\r\n    .then( (data) => {\r\n      return data;\r\n    });\r\n  };\r\n\r\n  const fetchWC = () => {\r\n    return fetch('/api/nodejieba', {\r\n      method:'POST',\r\n      headers: {\r\n        'content-type': 'application/json'\r\n      },\r\n      body: JSON.stringify({\r\n        name: expressData[0].name,\r\n        keyword: expressData[0].keyword\r\n      }),\r\n    })\r\n    .then( (response) => response.json())\r\n    .then( (data) => {\r\n      return data;\r\n    });\r\n  }\r\n\r\n  const touchFetch = async () => {\r\n    const [firstAna, firstWC] = await Promise.all([\r\n      fetchAna(),\r\n      fetchWC()\r\n    ])\r\n\r\n    setAnalyzeData(firstAna);\r\n    setWordCloud(firstWC);\r\n  };\r\n\r\n  const turnLeftHandler = () => {\r\n    setExpressData( prev => {\r\n      prev.push(prev[0]);\r\n      prev.shift();\r\n      console.log(prev);\r\n      return [...prev];\r\n    })\r\n  }\r\n  const turnRightHandler = () => {\r\n    setExpressData( prev => {\r\n      prev.unshift(prev[prev.length - 1]);\r\n      prev.pop();\r\n      console.log(prev[0]);\r\n      return [...prev];\r\n    })\r\n  }\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <div className={classes.all}>\r\n        <Container fluid>\r\n          <Title></Title>\r\n          <Container className=\" p-2 \">\r\n            <Row className=\"d-flex align-items-center\">\r\n              <Col >\r\n                <Figure>\r\n                  <Figure.Image\r\n                    onClick={turnLeftHandler}\r\n                    width={50}\r\n                    height={50}\r\n                    src=\"arrowleft.png\"\r\n                  >\r\n                  </Figure.Image>\r\n                </Figure>\r\n              </Col>\r\n              <Col xs={3}>\r\n                <Card bg='secondary' className=\"align-items-center\">\r\n                  <Figure className=\" p-1 \">\r\n                    <Figure.Image\r\n                      width={210}\r\n                      height={275}\r\n                      src={expressData[expressData.length - 1].src}\r\n                    >\r\n                    </Figure.Image>\r\n                  </Figure>\r\n                  <Card.Body style={{ width: '80%', height: '20%'}}>\r\n                    <Card.Title style={{ height: '30px'}} className=\"text-center text-truncate\">{expressData[expressData.length - 1].name}</Card.Title>\r\n                  </Card.Body>\r\n                </Card>\r\n              </Col>\r\n              <Col xs={4}>\r\n                <Card border='primary' className=\"align-items-center\">\r\n                  <Figure className=\" p-1 \">\r\n                      <Figure.Image\r\n                        width={290}\r\n                        height={400}\r\n                        src={expressData[0].src}\r\n                      >\r\n                      </Figure.Image>\r\n                  </Figure>\r\n                  <Card.Body style={{ width: '80%', height: '20%'}}>\r\n                    <Card.Title style={{ height: '40px'}} className=\"text-center text-truncate\">{expressData[0].name}</Card.Title>\r\n                    <Button onClick={touchFetch} variant=\"primary\" size=\"lg\" block>開始分析</Button>\r\n                  </Card.Body>\r\n                </Card>\r\n              </Col>\r\n              <Col xs={3}>\r\n                <Card bg='secondary' className=\"align-items-center\">\r\n                  <Figure className=\" p-1 \">\r\n                      <Figure.Image\r\n                        width={210}\r\n                        height={275}\r\n                        src={expressData[1].src}\r\n                      >\r\n                      </Figure.Image>\r\n                  </Figure>\r\n                  <Card.Body style={{ width: '80%', height: '20%'}}>\r\n                    <Card.Title style={{ height: '30px'}} className=\"text-center text-truncate\">{expressData[1].name}</Card.Title>\r\n                  </Card.Body>\r\n                </Card>\r\n              </Col>\r\n              <Col>\r\n                <Figure>\r\n                  <Figure.Image \r\n                    onClick={turnRightHandler}\r\n                    width={50}\r\n                    height={50}\r\n                    src=\"arrowright.png\"\r\n                    />\r\n                </Figure>\r\n              </Col>\r\n            </Row>\r\n          </Container>\r\n          <Result wordCloud={wordCloud} data={analyzeData}/>\r\n          <DataChart data={analyzeData}/>\r\n        </Container>\r\n      </div>\r\n    </React.Fragment>\r\n  )\r\n};\r\n\r\nexport default Gallery;\r\n","import React from 'react';\nimport {BrowserRouter as Router} from 'react-router-dom';\nimport './App.css';\nimport 'bootstrap/dist/css/bootstrap.min.css'\nimport Gallery from './components/Gallery';\n\nfunction App() {\n\n  return (\n    <React.Fragment>\n      <Gallery></Gallery>\n    </React.Fragment>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\n\nReactDOM.render(\n  <React.Fragment>\n    <App />\n  </React.Fragment>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}